{"ast":null,"code":"import React,{useState,useEffect}from'react';import{Container,Box,Typography,Card}from'@mui/material';import{getAccountData,getSummonerData,getMatchHistoryWithWinRate,getVersion}from'./services/api';import SummonerForm from'./components/SummonerForm';import SummonerProfile from'./components/SummonerProfile';import MatchList from'./components/MatchList';import LoadMoreMatches from'./components/LoadMoreMatches';import ChampionPerformance from'./components/ChampionPerformance';import ChampionMastery from'./components/ChampionMastery';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function App(){const[summoner,setSummoner]=useState(null);const[matches,setMatches]=useState([]);const[version,setVersion]=useState('');const[championMapping,setChampionMapping]=useState({});const[wins,setWins]=useState(0);const[losses,setLosses]=useState(0);const[winRate,setWinRate]=useState(0);const[offset,setOffset]=useState(10);const limit=10;useEffect(()=>{const fetchVersion=async()=>{const versionData=await getVersion();if(versionData){setVersion(versionData.version);}};fetchVersion();},[]);useEffect(()=>{const fetchChampionMapping=async()=>{if(version){try{const response=await axios.get(`https://ddragon.leagueoflegends.com/cdn/${version}/data/en_US/champion.json`);const champions=response.data.data;const mapping={};Object.values(champions).forEach(champ=>{mapping[champ.key]=champ.id;});setChampionMapping(mapping);}catch(error){console.error(\"Error fetching champion mapping:\",error);}}};fetchChampionMapping();},[version]);const handleAccountDataFetched=async data=>{const{puuid,gameName,tagLine}=data;const summonerData=await getSummonerData(puuid);setSummoner({...data,...summonerData});const matchHistoryData=await getMatchHistoryWithWinRate(puuid,limit,0);if(!matchHistoryData.error){setMatches(matchHistoryData.matchDetails);setWins(matchHistoryData.wins);setLosses(matchHistoryData.losses);setWinRate(matchHistoryData.winRate);setOffset(limit);}};return/*#__PURE__*/_jsx(Box,{sx:{bgcolor:'#1a1c23',minHeight:'100vh',display:'flex',flexDirection:'column'},children:/*#__PURE__*/_jsxs(Container,{maxWidth:\"md\",sx:{color:'#f0f0f0',flex:1,display:'flex',flexDirection:'column',justifyContent:'center',alignItems:'center',py:1,gap:1},children:[/*#__PURE__*/_jsx(Box,{sx:{textAlign:'center',mb:2},children:/*#__PURE__*/_jsx(Typography,{variant:\"h4\",component:\"h1\",sx:{fontWeight:'bold',color:'#f0f0f0',bgcolor:'#1f2937',p:1,borderRadius:2,boxShadow:3},children:\"My League Stats\"})}),/*#__PURE__*/_jsx(Box,{sx:{width:'100%',mb:2},children:/*#__PURE__*/_jsx(Card,{sx:{p:2,bgcolor:'#2d3748',color:'#f0f0f0',boxShadow:3,borderRadius:3},children:/*#__PURE__*/_jsx(SummonerForm,{onAccountDataFetched:handleAccountDataFetched})})}),summoner&&/*#__PURE__*/_jsx(Box,{sx:{width:'100%',mb:2},children:/*#__PURE__*/_jsx(SummonerProfile,{summoner:summoner,wins:wins,losses:losses,winRate:winRate})}),summoner&&/*#__PURE__*/_jsxs(Box,{sx:{display:'flex',gap:1,width:'100%',alignItems:'flex-start'},children:[/*#__PURE__*/_jsxs(Box,{sx:{flex:'1 1 30%',minWidth:0,display:'flex',flexDirection:'column',gap:1},children:[/*#__PURE__*/_jsx(ChampionMastery,{puuid:summoner.puuid,version:version,championMapping:championMapping}),/*#__PURE__*/_jsx(ChampionPerformance,{puuid:summoner.puuid})]}),/*#__PURE__*/_jsx(Box,{sx:{flex:'1 1 70%',minWidth:0},children:/*#__PURE__*/_jsxs(Card,{sx:{p:0.5,bgcolor:'#1f2937',color:'#f0f0f0',boxShadow:3,borderRadius:3},children:[/*#__PURE__*/_jsx(MatchList,{matches:matches}),/*#__PURE__*/_jsx(LoadMoreMatches,{puuid:summoner.puuid,limit:limit,offset:offset// Pass offset as prop\n,setOffset:setOffset// Set offset after loading more\n,matches:matches,setMatches:setMatches,setWins:setWins,setLosses:setLosses,setWinRate:setWinRate})]})})]})]})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","Container","Box","Typography","Card","getAccountData","getSummonerData","getMatchHistoryWithWinRate","getVersion","SummonerForm","SummonerProfile","MatchList","LoadMoreMatches","ChampionPerformance","ChampionMastery","axios","jsx","_jsx","jsxs","_jsxs","App","summoner","setSummoner","matches","setMatches","version","setVersion","championMapping","setChampionMapping","wins","setWins","losses","setLosses","winRate","setWinRate","offset","setOffset","limit","fetchVersion","versionData","fetchChampionMapping","response","get","champions","data","mapping","Object","values","forEach","champ","key","id","error","console","handleAccountDataFetched","puuid","gameName","tagLine","summonerData","matchHistoryData","matchDetails","sx","bgcolor","minHeight","display","flexDirection","children","maxWidth","color","flex","justifyContent","alignItems","py","gap","textAlign","mb","variant","component","fontWeight","p","borderRadius","boxShadow","width","onAccountDataFetched","minWidth"],"sources":["/Users/georgeulloa/Desktop/riot-app/my-react-app/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { Container, Box, Typography, Card } from '@mui/material';\nimport { getAccountData, getSummonerData, getMatchHistoryWithWinRate, getVersion } from './services/api';\nimport SummonerForm from './components/SummonerForm';\nimport SummonerProfile from './components/SummonerProfile';\nimport MatchList from './components/MatchList';\nimport LoadMoreMatches from './components/LoadMoreMatches'; \nimport ChampionPerformance from './components/ChampionPerformance';\nimport ChampionMastery from './components/ChampionMastery';\nimport axios from 'axios';\n\nfunction App() {\n  const [summoner, setSummoner] = useState(null);\n  const [matches, setMatches] = useState([]);\n  const [version, setVersion] = useState('');\n  const [championMapping, setChampionMapping] = useState({});\n  const [wins, setWins] = useState(0);\n  const [losses, setLosses] = useState(0);\n  const [winRate, setWinRate] = useState(0);\n  const [offset, setOffset] = useState(10); \n\n  const limit = 10;\n\n  useEffect(() => {\n    const fetchVersion = async () => {\n      const versionData = await getVersion();\n      if (versionData) {\n        setVersion(versionData.version);\n      }\n    };\n    fetchVersion();\n  }, []);\n\n  useEffect(() => {\n    const fetchChampionMapping = async () => {\n      if (version) {\n        try {\n          const response = await axios.get(`https://ddragon.leagueoflegends.com/cdn/${version}/data/en_US/champion.json`);\n          const champions = response.data.data;\n          const mapping = {};\n          Object.values(champions).forEach(champ => {\n            mapping[champ.key] = champ.id;\n          });\n          setChampionMapping(mapping);\n        } catch (error) {\n          console.error(\"Error fetching champion mapping:\", error);\n        }\n      }\n    };\n    fetchChampionMapping();\n  }, [version]);\n\n  const handleAccountDataFetched = async (data) => {\n    const { puuid, gameName, tagLine } = data;\n    const summonerData = await getSummonerData(puuid);\n    setSummoner({ ...data, ...summonerData });\n\n    const matchHistoryData = await getMatchHistoryWithWinRate(puuid, limit, 0);\n    if (!matchHistoryData.error) {\n      setMatches(matchHistoryData.matchDetails);\n      setWins(matchHistoryData.wins);\n      setLosses(matchHistoryData.losses);\n      setWinRate(matchHistoryData.winRate);\n      setOffset(limit); \n    }\n  };\n\n  return (\n    <Box sx={{ bgcolor: '#1a1c23', minHeight: '100vh', display: 'flex', flexDirection: 'column' }}>\n      <Container\n        maxWidth=\"md\"\n        sx={{\n          color: '#f0f0f0',\n          flex: 1,\n          display: 'flex',\n          flexDirection: 'column',\n          justifyContent: 'center',\n          alignItems: 'center',\n          py: 1,\n          gap: 1,\n        }}\n      >\n        <Box sx={{ textAlign: 'center', mb: 2 }}>\n          <Typography\n            variant=\"h4\"\n            component=\"h1\"\n            sx={{\n              fontWeight: 'bold',\n              color: '#f0f0f0',\n              bgcolor: '#1f2937',\n              p: 1,\n              borderRadius: 2,\n              boxShadow: 3,\n            }}\n          >\n            My League Stats\n          </Typography>\n        </Box>\n\n        <Box sx={{ width: '100%', mb: 2 }}>\n          <Card sx={{ p: 2, bgcolor: '#2d3748', color: '#f0f0f0', boxShadow: 3, borderRadius: 3 }}>\n            <SummonerForm onAccountDataFetched={handleAccountDataFetched} />\n          </Card>\n        </Box>\n\n        {summoner && (\n          <Box sx={{ width: '100%', mb: 2 }}>\n            <SummonerProfile summoner={summoner} wins={wins} losses={losses} winRate={winRate} />\n          </Box>\n        )}\n\n        {summoner && (\n          <Box sx={{ display: 'flex', gap: 1, width: '100%', alignItems: 'flex-start' }}>\n            <Box sx={{ flex: '1 1 30%', minWidth: 0, display: 'flex', flexDirection: 'column', gap: 1 }}>\n              <ChampionMastery puuid={summoner.puuid} version={version} championMapping={championMapping} />\n              <ChampionPerformance puuid={summoner.puuid} />\n            </Box>\n            <Box sx={{ flex: '1 1 70%', minWidth: 0 }}>\n              <Card sx={{ p: 0.5, bgcolor: '#1f2937', color: '#f0f0f0', boxShadow: 3, borderRadius: 3 }}>\n                <MatchList matches={matches} />\n                <LoadMoreMatches\n                  puuid={summoner.puuid}\n                  limit={limit}\n                  offset={offset} // Pass offset as prop\n                  setOffset={setOffset} // Set offset after loading more\n                  matches={matches}\n                  setMatches={setMatches}\n                  setWins={setWins}\n                  setLosses={setLosses}\n                  setWinRate={setWinRate}\n                />\n              </Card>\n            </Box>\n          </Box>\n        )}\n      </Container>\n    </Box>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}